<!-- DataTables e Filtros -->
<script src="<%= base_url() %>/assets/js/vendor.datatables.js"></script>
<script>
$(document).ready(function() {
        $('.filters').change(function() {
            $('#ticketsTable').DataTable().ajax.reload();
        });

        var table = $('#ticketsTable').dataTable({
            processing: true,
            serverSide: true,
            pageLength: 10,
            searchDelay: 600,
            order: [
                [0, "desc"],
                [1, "asc"]
            ],
            ajax: {
                "url": "<%= base_url('ticket/search') %>",
                data: function(d) {
                    d.event_id = $('#filter_event').val();
                    d.category_id = $('#filter_category').val();
                    d.status = $('#filter_status').val();
                }
            },
            loadingMessage: 'Carregando...',
            dom: '<"toolbar">frtip',
            class: 'pagination',
            columnDefs: [{
                responsivePriority: 1,
                targets: 0
            }],
            language: {
                emptyTable: "Nenhum registro encontrado.",
                info: "Exibindo _START_ até _END_ de _TOTAL_ registros",
                infoEmpty: "Exibindo 0 até 0 de 0 registros",
                infoFiltered: "(filtrados de _MAX_ no total)",
                infoPostFix: "",
                thousands: ",",
                lengthMenu: "Exibindo _MENU_ registros",
                loadingRecords: "Carregando...",
                processing: "Processando...",
                search: "Busca:",
                zeroRecords: "Nenhum registro encontrado.",
                paginate: {
                    first: "Primeiro",
                    last: "Ultimo",
                    next: "Prox.",
                    previous: "Ant."
                },
                aria: {
                    sortAscending: ": activate to sort column ascending",
                    sortDescending: ": activate to sort column descending"
                }
            }
        });
    });
</script>
<!-- Paginação HTML removida para DataTables server-side -->