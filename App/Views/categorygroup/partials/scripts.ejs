<!-- DataTables e Busca -->
<script src="<%= base_url() %>/assets/js/vendor.datatables.js"></script>
<script>
$(document).ready(function() {
    var table = $('#groupsTable').dataTable({
        processing: true,
        serverSide: true,
        pageLength: 10,
        searchDelay: 600,
        order: [
            [0, "desc"],
            [1, "asc"]
        ],
        ajax: {
            "url": "<%= base_url('group/search') %>",
            data: function(d) {
                d.search_value = $('#filter_search').val();
            }
        },
        loadingMessage: 'Carregando...',
        dom: '<"toolbar">frtip',
        class: 'pagination',
        columnDefs: [{
            responsivePriority: 1,
            targets: 0
        }],
        language: {
            emptyTable: "Nenhum registro encontrado.",
            info: "Exibindo _START_ até _END_ de _TOTAL_ registros",
            infoEmpty: "Exibindo 0 até 0 de 0 registros",
            infoFiltered: "(filtrados de _MAX_ no total)",
            infoPostFix: "",
            thousands: ",",
            lengthMenu: "Exibindo _MENU_ registros",
            loadingRecords: "Carregando...",
            processing: "Processando...",
            search: "Busca:",
            zeroRecords: "Nenhum registro encontrado.",
            paginate: {
                first: "Primeiro",
                last: "Ultimo",
                next: "Prox.",
                previous: "Ant."
            },
            aria: {
                sortAscending: ": activate to sort column ascending",
                sortDescending: ": activate to sort column descending"
            }
        }
    });
    // Busca instantânea
    $('#filter_search').on('keyup', function() {
        table.api().ajax.reload();
    });
});
</script>
<!-- Paginação HTML removida para DataTables server-side --> 